<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The M-Word</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }

</style>
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_the_m_word">The M-Word</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_functor">Functor</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_example">Example</a></li>
<li><a href="#_function_a_b">Function (a&#8594;b)</a></li>
<li><a href="#_functor_a">Functor&lt;A&gt;</a></li>
</ul>
</li>
<li><a href="#_applicative_functor">Applicative Functor</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_example_2">Example</a></li>
</ul>
</li>
<li><a href="#_monad">Monad</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_maybe">Maybe</a></li>
<li><a href="#_either">Either</a></li>
<li><a href="#_listmonad">ListMonad</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_the_m_word">The M-Word</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction">Introduction</h3>
<div class="paragraph">
<p><code>Category Theory</code> is a huge topic not related <strong>per se</strong> to programming, but
nowadays is the basis of what functional programming has become today.</p>
</div>
<div class="paragraph">
<p>In this chapter I&#8217;ll try to explain and give examples of some terms
taken from Category Theory and why they could be useful to us as programmers
in our daily work.</p>
</div>
<div class="paragraph">
<p>Many of the examples are based on <code>Haskell</code> programming language.
As a pure functional language is the best place if you want to learn
the basis of functional programming, and also because there aren&#8217;t
much documentation out there other than Haskell. Here you have
my two cents :)</p>
</div>
<div class="paragraph">
<p>I&#8217;m aware that terms like <code>Functor</code>, <code>Monad</code>&#8230;etc seem to be something
strange, odd, difficult for most of the programmers born in the OOP era
(including myself by the way).</p>
</div>
<div class="paragraph">
<p>I know it&#8217;s difficult&#8230; bad news: it becomes harder along the way, good news
&#8230; there is no good news. I&#8217;m jocking good news is that the more you
learn about <code>Category Theory</code> applied to functional programming the more
you understand how to use functional programming at work&#8230; but stop!
it&#8217;s about time&#8230; <strong>LETS DO THIS</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_functor">Functor</h3>
<div class="paragraph">
<p>In <code>Category Theory</code> a <code>Functor</code> is a mapping between categories&#8230;WHaAaAAAaaTT?? O_o</p>
</div>
<div class="paragraph">
<p>A <code>Functor</code> represents a container/wrapper of some sort, along with the ability
to apply a function to elements wrapped in the container.</p>
</div>
<div class="paragraph">
<p>Ok, so a <code>Functor</code> is like a <code>container</code>, like a <code>box</code>. It contains a value.
That value can be transformed by functions applied to the container,
not to the value directly.</p>
</div>
<div class="paragraph">
<p>The formal definition of a Functor in Haskell is:</p>
</div>
<div class="listingblock">
<div class="title">Functor definition</div>
<div class="content">
<pre class="prettyprint haskell language-haskell"><code>class Functor f where
    fmap :: (a -&gt; b) -&gt; f a -&gt; f b</code></pre>
</div>
</div>
<div class="paragraph">
<p>What does it mean ? Well it means that in order to build a new instance of a
<code>Functor</code> type the type should implement a <code>fmap</code> method.</p>
</div>
<div class="paragraph">
<p>The <code>fmap</code> method receives a function <code>(a &#8594; b)</code> which transforms an object
of type <code>a</code> in another object of type <code>b</code>, it also receives a <code>Functor</code> of type <code>a</code>
and finally returns a functor of type <code>b</code>.</p>
</div>
<div class="paragraph">
<p>How could we implement this ?</p>
</div>
<div class="sect3">
<h4 id="_example">Example</h4>
<div class="listingblock">
<div class="title">Functor (Java)</div>
<div class="content">
<pre class="prettyprint java language-java"><code>include::{sourceDirJava}/groovyfp/categories/Functor.java[indent=0]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
Some of the interfaces or classes shown here are implemented in plain
Java&#8482;. I&#8217;m planning to migrate them to Groovy 2.3+ with <code>@CompileStatic</code> any time
soon.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>So basically a functor allows us to transform the contained value applying a function.
There&#8217;re some differences between the Java&#8482; implementation and the Haskell one.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>(a&#8594;b)</code> becomes <code>Function&lt;A,B&gt;</code></p>
</li>
<li>
<p><code>fa</code> parameter will be the instance of the functor itself</p>
</li>
<li>
<p><code>fb</code> becomes <code>Functor&lt;B&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now imagine we had a function adding 3 to any number. In Haskell we would be seeing this:</p>
</div>
<div class="listingblock">
<div class="title">Haskell example</div>
<div class="content">
<pre class="prettyprint haskell language-haskell"><code>fmap (+3) (Just 1)</code></pre>
</div>
</div>
<div class="paragraph">
<p>I&#8217;ll try to reproduce the same behavior, this time with Groovy :) We will be following
these steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We need a function receiving a number and returning a number <code>(a&#8594;b)</code></p>
</li>
<li>
<p>Then the functor will receive the function and will know how to unwrap the
value and after applying the function how to wrap it again.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_function_a_b">Function (a&#8594;b)</h4>
<div class="paragraph">
<p>A function represents a transformation applied to a given input, giving
a certain result.</p>
</div>
<div class="paragraph">
<p>We need a function adding 3 to any given number. Here is a simple java interface
defining a function:</p>
</div>
<div class="listingblock">
<div class="title">Function (Java)</div>
<div class="content">
<pre class="prettyprint java language-java"><code>include::{sourceDirJava}/groovyfp/categories/Function.java[indent=0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because this interface is in fact a functional interface, it could be
substituted by a Closure expression. So instead of building a new class or
building a verbose inner class implementation we will be using a closure
to define a new implementation of the <strong>Function</strong> interface.</p>
</div>
<div class="listingblock">
<div class="title">Function&lt;Integer,Integer&gt;</div>
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>include::{testDir}/groovyfp/categories/FunctionSpec.groovy[tags=function1,indent=0]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
Be aware that because closures only declare the return type you should add
the type to the closure parameter if you care about input type.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_functor_a">Functor&lt;A&gt;</h4>
<div class="paragraph">
<p>Well now we need an instance of a functor of type <strong>A</strong>, pass to the functor
our previously created function and expect to receive a certain value with
a certain type.</p>
</div>
<div class="listingblock">
<div class="title">Functor&lt;Integer&gt;</div>
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>include::{testDir}/groovyfp/categories/FunctorSpec.groovy[tags=functorspec1,indent=0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ok but how <code>Maybe.Just</code> gets something and transform it to another functor. Lets see
what the <code>fmap</code> implementation does:</p>
</div>
<div class="listingblock">
<div class="title">Maybe Functor#fmap implementation</div>
<div class="content">
<pre class="prettyprint java language-java"><code>include::{sourceDirJava}/groovyfp/categories/Maybe.java[tags=functorspec2,indent=0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>First I&#8217;ll try to describe which types are involved:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>JUST</code> is the value contained by the Maybe instance (which among other things is a functor).</p>
</li>
<li>
<p><code>&lt;B&gt;</code> is the type of the function applied. Then
the Maybe implementation wraps that value into another instance of a functor
(this time another Just instance).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Basically here the <code>fmap</code> method takes as an argument a function transforming
the contained value in the source functor and then wraps it again in another
functor instance.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_applicative_functor">Applicative Functor</h3>
<div class="paragraph">
<p>Remember I was saying a <code>Functor</code> is a container, a box if you like, containing
a simple value ? You can think about <code>Applicative</code> like a <code>Functor</code> containing
a <code>Function</code>. This time the <code>box</code> contains a <code>Function</code>.</p>
</div>
<div class="paragraph">
<p>Why then the name of <code>Applicative</code> ? I&#8217;m not quite sure, but
I think it came from the idea that a function <strong>can be applied</strong>
to some other values.</p>
</div>
<div class="paragraph">
<p>In Haskell:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint haskell language-haskell"><code>(&lt;*&gt;) :: Applicative f =&gt; f (a-&gt;b) -&gt; (f a -&gt; f b)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time instead of containing a plain value the functor has a function. So
we can read the Haskell function as a function receiving an applicative <code>f (a&#8594;b)</code> (a
functor containing a function transforming from a to b) and returns the
transformation from a functor containing a to a functor containing b <code>(f a &#8594; f b)</code>.</p>
</div>
<div class="sect3">
<h4 id="_example_2">Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint java language-java"><code>include::{sourceDirJava}/groovyfp/categories/Applicative.java[indent=0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>We have included in our Java&#8482; version a way of accessing the inner value
forcing any <code>Applicative</code> to implement the <code>getValue()</code> method.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
Instead of <code>getValue</code> returning a raw value I&#8217;ve implemented <code>getTypedRef</code> which
returns a wrapper having the raw instance.
I did it becauseI didn&#8217;t found a solution to resolve the problem of having the ListMonad sharing
the same interface with Monads sharing single values and still respecting the
<code>fmap</code>, <code>fapply</code> and <code>bind</code> methods. I&#8217;m not perfect so I will be very happy if
someone gives me a better solution :)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>But the  most important method is <code>fapply</code> which in in charge of receiving another
applicative and use the value of that applicative and apply it to the inner value
of the instance of the source applicative.</p>
</div>
<div class="paragraph">
<p>Lets take a look to the implementation of the <code>fapply</code> method in the
<code>Maybe.Right</code> class we can see how it works.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint java language-java"><code>include::{sourceDirJava}/groovyfp/categories/Maybe.java[tags=fapply,indent=0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>How can we use it ?</p>
</div>
<div class="paragraph">
<p>In this example I&#8217;m using implementations of <code>Maybe</code>. This implementation is not
only an <code>Applicative</code> but a <code>Functor</code> (which is implied) and a <code>Monad</code>. Instead
of creating object with <code>new</code> operator every object has a static method to do it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>include::{testDir}/groovyfp/categories/MaybeSpec.groovy[tags=imports,indent=0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is the example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>include::{testDir}/groovyfp/categories/MaybeSpec.groovy[tags=fapplyspec,indent=0]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The implementation of the <code>Maybe.Nothing</code> <code>fapply</code> method doesn&#8217;t apply the
function to the current instance and returns  an instance of <code>new Nothing(null)</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The implementation of <code>the Maybe.Just</code> <code>fapply</code> method applies current value
to the function contained within the <code>Applicative</code> passed as parameter.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_monad">Monad</h3>
<div class="paragraph">
<p>What is a Monad ?</p>
</div>
<div class="paragraph">
<p>While <code>Functor</code> applied a function to a wrapped value, and an <code>Applicative</code>
applied a wrapped function to a wrapped value, a <code>Monad</code> applies a function
to a wrapped value and returns a wrapped value.</p>
</div>
<div class="paragraph">
<p>Because <code>Monad</code> is an <code>Applicative</code> and an <code>Applicative</code> is a <code>Functor</code>, likewise
a <code>Monad</code> has some inherit methods such as <code>fmap</code> or  <code>fapply</code>. But the method
that makes a <code>Monad</code> a <code>Monad</code> is the <code>bind</code> method (or <code>&gt;&gt;=</code> which is its alias
in Haskell).</p>
</div>
<div class="paragraph">
<p>How does <code>bind</code> looks like ? Like always , first step, Haskell syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint haskell language-haskell"><code>class Monad m where
    (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b</code></pre>
</div>
</div>
<div class="paragraph">
<p>A bind method receives a wrapped value <code>m a</code> then a function <code>(a &#8594; m b)</code> which
transforms the wrapped value to another wrapped value, and finally returns the
transformation result <code>m b</code>.</p>
</div>
<div class="paragraph">
<p>In my humble representation of a Monad type in Java&#8482; I came up with the
following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint java language-java"><code>include::{sourceDirJava}/groovyfp/categories/Monad.java[indent=0]</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_maybe">Maybe</h4>
<div class="paragraph">
<p>The <code>Maybe</code> is normally used to avoid asking whether the value is null or it
can contain any value. That&#8217;s why the <code>Maybe</code> object has two children:
<code>Maybe.Just</code> and <code>Maybe.Nothing</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
In the JDK 8 you can find the <code>Optional</code> type. Sometimes is also called
<code>Option</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As we&#8217;ll be seeing along this chapter is that monads like <code>Maybe</code>, <code>Either</code> or
<code>ListMonad</code> will allow to apply functions over the wrapped value, only if the
wrapped value is considered <strong>valid</strong>. Otherwise the wrapped value will be
returned.</p>
</div>
<div class="paragraph">
<p>To see how to use <code>Maybe</code> lets use it in a simple exercise:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Given a number, I want to divide it by half two times, and then if still
not decimal, multiplied by three.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Because all even numbers will become decimals as soon as I try to dividing them
by half I want to stop the process as soon as the process detects that number
is no longer eligible to success.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint groovy language-groovy"><code>include::{testDir}/groovyfp/categories/MaybeSpec.groovy[tags=maybebind,indent=0]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>tries to divide, if not even returns nothing otherwise returns division result.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>tries again to divide the number under the same premises.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>If division ended successfully only then applies multiplication.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The nice thing about this plan is that if any of the previous steps ended with
a <code>Maybe.Nothing</code> instance the process won&#8217;t go any further.</p>
</div>
<div class="paragraph">
<p>In order to understand what happens underneath, why process doesn&#8217;t continue,
I would like to show you both implementation of <code>Maybe.Just</code> and <code>Maybe.Nothing</code>.</p>
</div>
<div class="paragraph">
<p>While <code>Maybe.Just</code> applies the function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint java language-java"><code>include::{sourceDirJava}/groovyfp/categories/Maybe.java[tags=justbind,indent=0]</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Maybe.Nothing</code> like its name, <strong>does nothing</strong> but to return the current value :P</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint java language-java"><code>include::{sourceDirJava}/groovyfp/categories/Maybe.java[tags=nothingbind,indent=0]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_either">Either</h4>
<div class="paragraph">
<p>Either monad is also one of the classics. The <code>Either</code> monad instance can
represent correct or error.</p>
</div>
<div class="paragraph">
<p>As imperative programmer I&#8217;m used to choose between branches in my code using
conditional structures such as <code>if</code>. As Groovy programmer I&#8217;ve gone one step
further and I&#8217;ve met the <code>Groovy Truth</code> that helps me a lot classifying
instances between those which could be seen as a false statement and those
which can be taken as a true statement.</p>
</div>
<div class="paragraph">
<p>But what if we go beyond ? What if we had a type saying it could be right or
wrong depending on its own but still having content ?.</p>
</div>
<div class="paragraph">
<p>The following example tries to search certain type of people from a given list.
The search will stop once a person has been found with any of the given rules.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint java language-java"><code>include::{testDir}/groovyfp/categories/EitherSpec.groovy[tags=eithermonadsearch,indent=0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>First of all, I need to apologise because in this example It seems I&#8217;ve used Either just
to do the opposite. This time think <code>Either.Left</code> as something telling us to
stop looking because we&#8217;ve found what we were looking for.</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>baseSearch</code> is a function that returns another function.
That inner function returns an <code>Either.Left</code> instance with the result inside
if the <code>search</code> function passed as parameter succeeded. I want the function to
return <code>Either.Left</code> because I know when an <code>Either.Left</code> is returned no further
action is done. And because I&#8217;ve found what I was looking for, I don&#8217;t want the
search to go any further.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>I&#8217;ve created three different functions valid to be used in an <code>fmap</code> function. That
means they receive an unwrapped value but they will return a wrapped value.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Given the source we will try to apply three types of search in order to find
someone. Because the rules of the monad, I know if the first search fails the
second will be triggered, and so on. In case any of them succeed the value will be
return immediately.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_listmonad">ListMonad</h4>
<div class="paragraph">
<p>Collections in general are one of the most used data structures ever.
Some languages use collections only as data structures and some others make
them implement monadic semantics in order to be able to do things like
<code>list comprehensions</code>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-09-13 19:58:08 CEST
</div>
</div>
</body>
</html>